<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="styles.css"> <!-- stylesheet -->
</head>

<body>
    <div class="container">
        <h1>Tic Tac Toe</h1>
        <p>Click a cell to make a move.</p>
        <div class="status"></div>
        <br>
        <div class="board">
            <div class="cell" id="cell-0"></div>
            <div class="cell" id="cell-1"></div>
            <div class="cell" id="cell-2"></div>
            <div class="cell" id="cell-3"></div>
            <div class="cell" id="cell-4"></div>
            <div class="cell" id="cell-5"></div>
            <div class="cell" id="cell-6"></div>
            <div class="cell" id="cell-7"></div>
            <div class="cell" id="cell-8"></div>
            <div class="cell" id="cell-9"></div>
            <div class="cell" id="cell-10"></div>
            <div class="cell" id="cell-11"></div>
            <div class="cell" id="cell-12"></div>
            <div class="cell" id="cell-13"></div>
            <div class="cell" id="cell-14"></div>
            <div class="cell" id="cell-15"></div>
            <div class="cell" id="cell-16"></div>
            <div class="cell" id="cell-17"></div>
            <div class="cell" id="cell-18"></div>
            <div class="cell" id="cell-19"></div>
            <div class="cell" id="cell-20"></div>
            <div class="cell" id="cell-21"></div>
            <div class="cell" id="cell-22"></div>
            <div class="cell" id="cell-23"></div>
            <div class="cell" id="cell-24"></div>
            <div class="cell" id="cell-25"></div>
            <div class="cell" id="cell-26"></div>
            <div class="cell" id="cell-27"></div>
            <div class="cell" id="cell-28"></div>
            <div class="cell" id="cell-29"></div>
            <div class="cell" id="cell-30"></div>
            <div class="cell" id="cell-31"></div>
            <div class="cell" id="cell-32"></div>
            <div class="cell" id="cell-33"></div>
            <div class="cell" id="cell-34"></div>
            <div class="cell" id="cell-35"></div>
            <div class="cell" id="cell-36"></div>
            <div class="cell" id="cell-37"></div>
            <div class="cell" id="cell-38"></div>
            <div class="cell" id="cell-39"></div>
            <div class="cell" id="cell-40"></div>
            <div class="cell" id="cell-41"></div>
            <div class="cell" id="cell-42"></div>
            <div class="cell" id="cell-43"></div>
            <div class="cell" id="cell-44"></div>
            <div class="cell" id="cell-45"></div>
            <div class="cell" id="cell-46"></div>
            <div class="cell" id="cell-47"></div>
            <div class="cell" id="cell-48"></div>
            <div class="cell" id="cell-49"></div>
            <div class="cell" id="cell-50"></div>
            <div class="cell" id="cell-51"></div>
            <div class="cell" id="cell-52"></div>
            <div class="cell" id="cell-53"></div>
            <div class="cell" id="cell-54"></div>
            <div class="cell" id="cell-55"></div>
            <div class="cell" id="cell-56"></div>
            <div class="cell" id="cell-57"></div>
            <div class="cell" id="cell-58"></div>
            <div class="cell" id="cell-59"></div>
            <div class="cell" id="cell-60"></div>
            <div class="cell" id="cell-61"></div>
            <div class="cell" id="cell-62"></div>
            <div class="cell" id="cell-63"></div>
            <div class="cell" id="cell-64"></div>
            <div class="cell" id="cell-65"></div>
            <div class="cell" id="cell-66"></div>
            <div class="cell" id="cell-67"></div>
            <div class="cell" id="cell-68"></div>
            <div class="cell" id="cell-69"></div>
            <div class="cell" id="cell-70"></div>
            <div class="cell" id="cell-71"></div>
            <div class="cell" id="cell-72"></div>
            <div class="cell" id="cell-73"></div>
            <div class="cell" id="cell-74"></div>
            <div class="cell" id="cell-75"></div>
            <div class="cell" id="cell-76"></div>
            <div class="cell" id="cell-77"></div>
            <div class="cell" id="cell-78"></div>
            <div class="cell" id="cell-79"></div>
            <div class="cell" id="cell-80"></div>
            <div class="cell" id="cell-81"></div>
            <div class="cell" id="cell-82"></div>
            <div class="cell" id="cell-83"></div>
            <div class="cell" id="cell-84"></div>
            <div class="cell" id="cell-85"></div>
            <div class="cell" id="cell-86"></div>
            <div class="cell" id="cell-87"></div>
            <div class="cell" id="cell-88"></div>
            <div class="cell" id="cell-89"></div>
            <div class="cell" id="cell-90"></div>
            <div class="cell" id="cell-91"></div>
            <div class="cell" id="cell-92"></div>
            <div class="cell" id="cell-93"></div>
            <div class="cell" id="cell-94"></div>
            <div class="cell" id="cell-95"></div>
            <div class="cell" id="cell-96"></div>
            <div class="cell" id="cell-97"></div>
            <div class="cell" id="cell-98"></div>
            <div class="cell" id="cell-99"></div>
        </div>
        <br>
        <div class="controls">
            <button id="reset-button">Reset</button>
        </div>
    </div>
</body>
<script>
    // Gameboard module: holds board array and operations
    const Gameboard = (() => {
        const board = Array(100).fill(null); // 100 cells

        const getBoard = () => board; // return internal board

        const setCell = (index, player) => { // set symbol if empty
            if (board[index] === null) board[index] = player;
        };

        const resetBoard = () => { // clear board
            for (let i = 0; i < board.length; i++) board[i] = null;
        };

        return { getBoard, setCell, resetBoard };
    })();

    // Player factory: simple object with name and symbol
    const Player = (name, symbol) => ({ name, symbol });

    // GameController module: manages turns and win checking
    const GameController = (() => {
        const player1 = Player("Player 1", "X");
        const player2 = Player("Player 2", "O");
        let currentPlayer = player1;

        const switchPlayer = () => currentPlayer = currentPlayer === player1 ? player2 : player1;

        const handleCellClick = (index) => {
            Gameboard.setCell(index, currentPlayer.symbol); // try place symbol
            const cell = cells[index];
            if (cells[index].textContent !== "") return; // ignore if occupied
            cell.textContent = currentPlayer.symbol; // update UI
            if (checkWin(currentPlayer.symbol)) {
                console.log(`${currentPlayer.name} wins!`); // winner
                document.querySelector(".status").textContent = `${currentPlayer.name} wins!`;
            } else {
                switchPlayer(); // next turn
            }
        };

        const checkWin = (symbol) => {
            const winningCombinations = [
            //all winning combination 5 in a rows for 10x10 board
            // horizontal
            ...Array.from({ length: 10 }, (_, row) =>
                Array.from({ length: 6 }, (_, col) =>
                    [row * 10 + col, row * 10 + col + 1, row * 10 + col + 2, row * 10 + col + 3, row * 10 + col + 4]
                )
            ).flat(),
            // vertical
            ...Array.from({ length: 10 }, (_, col) =>
                Array.from({ length: 6 }, (_, row) =>
                    [row * 10 + col, (row + 1) * 10 + col, (row + 2) * 10 + col, (row + 3) * 10 + col, (row + 4) * 10 + col]
                )
            ).flat(),
            // diagonal (top-left to bottom-right)
            ...Array.from({ length: 6 }, (_, row) =>
                Array.from({ length: 6 }, (_, col) =>
                    [row * 10 + col, (row + 1) * 10 + col + 1, (row + 2) * 10 + col + 2, (row + 3) * 10 + col + 3, (row + 4) * 10 + col + 4]
                )
            ).flat(),
            // diagonal (bottom-left to top-right)
            ...Array.from({ length: 6 }, (_, row) =>
                Array.from({ length: 6 }, (_, col) =>
                    [(row + 4) * 10 + col, (row + 3) * 10 + col + 1, (row + 2) * 10 + col + 2, (row + 1) * 10 + col + 3, row * 10 + col + 4]
                )
            ).flat()
            ];
            return winningCombinations.some(comb =>
                comb.every(i => Gameboard.getBoard()[i] === symbol)
            );
        };

        return { handleCellClick };
    })();

    // Wire up UI: cells and reset button
    const cells = document.querySelectorAll(".cell");
    cells.forEach((cell, index) => cell.addEventListener("click", () => GameController.handleCellClick(index)));

    const resetButton = document.getElementById("reset-button");
    resetButton.addEventListener("click", () => {
        Gameboard.resetBoard(); // clear model
        cells.forEach(cell => cell.textContent = ""); // clear view
        document.querySelector(".status").textContent = ""; // clear status
    });
</script>

</html>